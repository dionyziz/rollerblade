\begin{algorithm}[H]
  \caption{\label{alg.ledger} The ledger functionalities offerred by the Rollerblade protocol.}
  \begin{algorithmic}[1]
    \Function{\sf read}{$r$}
      \Let{\overline{L}}{[\,]}
      \For{$P \in \overline{P}$}
        \Let{L}{P\textsf{.read()}}
        \State{$\overline{L}\textsf{.append}(
          \textsf{simulate}(
            \textsf{id}, \textsf{view}(\textsf{id}, L, r), r
          )\textsf{.simulationLedger}
        )$}
      \EndFor
      \State\Return{$\textsf{MajorityVote}(\overline{L})$}
    \EndFunction
    \Function{\sf write}{$\textsf{tx}$}
      \For{$P \in \overline{P}$}
        \State{$P\textsf{.write}(\textsf{encode}(j, (`\text{write}', tx)))$}
      \EndFor
    \EndFunction
    \vskip2pt
  \end{algorithmic}
\end{algorithm}
